---
title: 작업요청서_2025-05-04_001
category: cursor_request
project: taxcredit_mobileapp
created: 2025-05-04
request_by: 유비
status: 요청
---

## 📌 요청 개요
현재 `my-app` 내부에 존재하던 `.github/workflows` 디렉토리를 루트 디렉토리인 `taxcredit_mobileapp/` 상위로 이동하였습니다. 이 구조 변경 이후, **Azure Static Web App 배포가 실패**하는 문제가 발생하고 있어, 이에 대한 구조 재정비 및 GitHub 연동 재설정 요청을 드립니다.

또한 기존 **Azure Web App 기반 배포 구조는 전면 폐기**되었으며, 새로 구성된 **정적 앱 배포(Static Web Apps)** 방식으로 완전히 전환되었음을 명확히 반영해야 합니다.

## 🧭 변경 사항 및 지시 요약

### 1. 디렉토리 구조 변경 사항
- 원래 `.github/workflows`는 `my-app/` 내부에 위치해 있었음
- 현재는 `taxcredit_mobileapp/.github/workflows`로 이동 완료됨
- 따라서, 기존 GitHub 저장소 구조는 더 이상 유효하지 않음 → 새로운 루트 기준으로 재정의 필요

### 2. 배포 방식 전환
- **기존**: Azure App Service + Git 배포 (`npm run deploy` 또는 PowerShell 스크립트)
- **현재**: Azure Static Web Apps + GitHub Actions 기반 정적 파일 자동 배포
- App Service 관련된 스크립트, 설정파일(`web.config`, `deploy.ps1`, `health.html` 등)은 더 이상 사용하지 않음 → 전면 제거 가능

## ✅ 요청 작업 항목

### 📁 1. Git 저장소 재구성
- 현재 Git 저장소 루트가 `my-app/`으로 설정되어 있었던 이력을 초기화하고, **`taxcredit_mobileapp/` 전체를 루트**로 지정
- 아래 명령 기준으로 초기화할 수 있음:

```bash
cd D:/Projects/taxcredit_mobileapp
rm -rf .git
git init
git remote add origin https://github.com/naub5k/taxcredit-visual.git
git add .
git commit -m "feat: migrate to static web app deployment structure"
git push -f origin master
```

> ⚠️ 기존 `my-app` 디렉토리만 푸시되었던 GitHub 저장소 상태를 덮어쓰기 위해 `-f` 옵션 필수 사용

---

### 🔁 2. GitHub Actions 워크플로우 정상 작동 확인
- `azure-static-web-apps-taxcredit-visual.yml` 파일 내 설정을 다음 기준으로 유지:
```yaml
app_location: "my-app"
output_location: "my-app/build"
```
- 해당 경로가 새 루트 구조에서 유효함을 확인하고 GitHub Actions 자동 배포 여부 점검

---

### 🧼 3. 기존 문서 및 설정 정리 요청
- 아래 파일 또는 디렉토리의 폐기 또는 수정 필요:
  - `scripts/deploy.ps1`, `deploy-static.ps1`, `web.config`, `health`, `health.html` 제거 가능
  - `README.md`, `2025-05-03-006_고용이력부_UI시각수정_및_배포자동화_최종결과.md`, `2025-05-03-001_디렉토리_최적화_결과.md` 등에서 **App Service 기반 배포 내용 삭제 또는 Static Web Apps 기반으로 수정**
  - `staticwebapp.config.json`은 `my-app/public`에 존재하고, 빌드시 `build/`에 반영되는지 검증

---

### 📌 최종 점검 리스트
- [ ] Git 저장소 루트 위치 재설정 (`taxcredit_mobileapp/`)
- [ ] GitHub Actions 정상 작동 (`master` 브랜치 푸시 시 자동 배포 확인)
- [ ] Static Web App 호스팅 상태 점검 (정상 URL 접속 여부 포함)
- [ ] `README.md` 및 관련 문서에서 배포 방식 내용 정정 완료
- [ ] App Service 기반 배포 스크립트/설정파일 제거

---

작업 후 결과 파일은 `cursor_results/작업요청서_2025-05-04_001_result.md`로 저장 바랍니다.

문서 내 링크/경로/스크립트 등 수정 시 반드시 전체 구조 반영 상태로 재확인해주세요.

고맙습니다.
