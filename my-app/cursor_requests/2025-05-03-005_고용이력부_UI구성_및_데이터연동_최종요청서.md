---
title: 2025-05-03-005_고용이력부_UI구성_및_데이터연동_최종요청서
category: cursor_request
project: taxcredit_mobileapp
created: 2025-05-03
owner: naub5k
tags: [요청서, 고용이력부, 시도구군, UI구성, 데이터연동, 쿼리연동, 시각화]
---

# 📄 요청 개요

- **요청 목적**: 고용이력부 앱의 시도/구군 기반 UI를 구성하고, SQL 연동을 통해 실시간 데이터를 반영하는 구조를 고정합니다.
- **모드**: Sonet 3.7 Thinking Agent
- **기준 쿼리 데이터**: [CleanDB].dbo.Insu_Clean

---

# 🧩 요청 세부 내용

## 1. 앱 구조

- 앱 타이틀: **고용이력부**
- 기준 페이지 구성: 시도/구군 선택 UI 컴포넌트 (`RegionSelector.js`)
- 데이터 저장 파일: `src/data/employmentRegionData.js`

---

## 2. 쿼리 정의 및 연동 구조

### 시도 단위 업체 수 집계:
```sql
SELECT 시도, COUNT(*) AS 업체수
FROM [CleanDB].CleanDB.dbo.Insu_Clean
GROUP BY 시도
ORDER BY 시도 DESC;
```

### 시도+구군 단위 업체 수 집계:
```sql
SELECT 시도, 구군, COUNT(*) AS 업체수
FROM [CleanDB].CleanDB.dbo.Insu_Clean
GROUP BY 시도, 구군
ORDER BY 시도, 구군;
```

- 결과 구조 예시:
```js
export const employmentRegionData = [
  {
    시도: "서울특별시",
    구군목록: [
      { 구군: "강남구", 업체수: 128878 },
      ...
    ]
  },
  ...
];
```

---

## 3. 비율 분석 및 시각화 설계 기준

- 전체 시도 17개 중 **서울특별시, 경기도**는 한 그룹
- 나머지 15개 시도는 **기타지역**으로 묶음
- 기타지역 합계(2,141,234)를 기준으로 각 시도의 **비율을 100%로 정규화**
- 아래 SQL 결과와 동일해야 함
  - 시도별 합계 = 구군 합계
- 이 결과를 기반으로 기타지역의 시각화(막대그래프 등) 연동 필요

---

## 4. UI 구성 요소 요구

- 드롭다운을 통한 시도 선택 시 → 구군 목록 자동 로딩
- 선택된 구군에 따라 해당 업체 수 표시
- 초기 로딩 시 기본 데이터 렌더링, 이후 실시간 쿼리 연동 가능 옵션 포함
- 새로고침 또는 상태 초기화 시 자동 재로딩 구조 필요

---

## 5. 이력 및 저장 경로

- 요청서 저장 위치: `my-app/cursor_requests/2025-05-03-005_고용이력부_UI구성_및_데이터연동_최종요청서.md`
- 결과 정리 위치: `cursor_results/2025-05-03-005_고용이력부_UI구성_및_데이터연동_최종결과.md`
- 모든 구군/시도 데이터 기반 결과는 JSON 형태로 구성
