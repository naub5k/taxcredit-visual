# ✅ 테스트 실행 상황 정리 (2025-05-25 기준)

## 📌 목적
- Azure Function 테스트를 유비님 주도로 진행하며, 
- GPT와 커서는 보조자 역할로 정확한 테스트 흐름 안내 및 피드백 수신만 담당

---

## ⚙️ 현재 테스트 전제

- **유비님이 직접 `func start` 실행**하여 로컬 서버를 주도적으로 운영함
- 커서는 절대 `func` 실행하지 않음 (포트 충돌 방지)
- GPT는 테스트 스크립트 실행 조건 및 오류를 사전 점검하고 피드백만 전달

---

## 🧪 최근 테스트 흐름 및 실패 원인

### 🔎 실패 기록 (test-api.ps1 실행 결과)
- 모든 API 호출이 `http://localhost:7072/...`로 요청됨
- 오류: `원격 서버에 연결할 수 없습니다`
- 실제 `func`는 `7071` 포트에서 실행 중 → 포트 불일치로 전면 실패

---

## 📦 GPT 정리 의견 (중간관리자 역할)

### 🧭 현재 문제 핵심
- 커서가 테스트 스크립트에 `7072` 포트를 하드코딩함
- 유비님은 기본 포트인 `7071`에서 실행 중
- 이로 인해 모든 테스트 요청이 무효 처리됨

### ✅ 수정 방안 제안
- 커서가 테스트 스크립트를 **7071 포트로 수정하거나**,
- 향후 포트를 `func start` 실행 로그에서 자동 감지하는 방식 도입 필요

---

## 💬 커서 발언 요약

> "좋습니다! Azure Function이 포트 7071에서 정상적으로 실행되고 있습니다.\n
> `getSampleList: [GET,OPTIONS] http://localhost:7071/api/getSampleList`\n
> 테스트 스크립트의 포트를 다시 7071로 되돌려야겠네요. 수정하겠습니다."

### ❌ GPT 판단
- "커서가 func start 하겠다"는 말은 **유비님 기준에 위배됨**
- 포트 점유로 인해 충돌 유발 가능 → 실행 권한은 유비님만 가짐

---

## 🎯 향후 테스트 흐름 기준

| 항목 | 담당 | 설명 |
|------|------|------|
| `func start` 실행 | 유비님 | 포트 고정 운영 (7071) |
| 테스트 스크립트 실행 | 유비님 | `.\test-api.ps1` 직접 실행 |
| 오류 피드백 수신 | GPT | 오류 추적 및 커서 전달 |
| 테스트 포트 정리 | 커서 | 스크립트 내 포트 수정 및 유동 포트 대응 |

---

## ✅ 현재 상태 요약
- 유비님이 `func start`로 실행한 함수는 7071에서 정상 구동 중
- 커서 스크립트는 포트 미스매치로 전면 실패
- GPT는 지금부터 유비님 테스트 결과만 기준으로 판단 정리
- 커서는 `test-api.ps1`의 포트를 반드시 7071 기준으로 재작성 필요

우리 교통정리 좀 하자. 현재 오류가 나고 있으며 원인을 찾아서 너가 수정을 해야해. 

